import{L as W,R as ee,M as te}from"./ModalsResquet.f8d97e1e.js";import{u as w,m as oe,a as L}from"./store.23c34caf.js";import{_ as M,G as q,o as y,j as x,i,g as d,w as B,W as ae,R as D,m as ne,X as z,Y as T,r as C,a8 as le,Q as S,k as A,b as c,h as m,x as se,a2 as ie,d as re,v as ce,s as de,C as R,a9 as g,c as ue,J as fe,n as ve,f as pe,S as b}from"./index.61cf5365.js";import{u as _e,d as me,e as ge,f as be}from"./dataBase.2f590b79.js";var ye="/assets/zoro.08e45d74.jpg";const he={setup(){const t=w();return q(async()=>{await t.myUser()}),{use:t}}},E=t=>(z("data-v-f982e6bc"),t=t(),T(),t),xe={class:"MyInfo"},Ie={class:"bodyMyInfo"},we={class:"contentAvatar"},Me=E(()=>i("img",{src:ye,alt:""},null,-1)),Ce={class:"myInfoDescription"},ke={class:"myName"},$e={class:"myDirection"},Pe=E(()=>i("b",null,"Direccion : ",-1));function Ve(t,a,e,n,l,r){var s,u,v,p;return y(),x("div",xe,[i("div",Ie,[i("div",we,[d(ae,{size:"5.8rem"},{default:B(()=>[Me]),_:1})]),i("div",Ce,[i("div",ke,[i("h3",null,D((s=n.use.myID)==null?void 0:s.name),1)]),i("div",$e,[i("p",null,[Pe,ne(D((u=n.use.myID)==null?void 0:u.direction[0].lng)+" - "+D((p=(v=n.use.myID)==null?void 0:v.direction[0])==null?void 0:p.lat),1)])])])])])}var De=M(he,[["render",Ve],["__scopeId","data-v-f982e6bc"]]);const Se=()=>new Promise((t,a)=>{navigator.geolocation.getCurrentPosition(({coords:e})=>{t([{lng:e.longitude,lat:e.latitude}])},e=>{alert("no tiene la geolocalizacion"),console.log(e),a()})});const qe={setup(){const t=w(),a=C(null);return q(async()=>{let l;await t.myUser(),t.myID.direction?l=t.myID.direction:l=await Se(),oe.accessToken="pk.eyJ1Ijoib3NjYXIxMjAwMiIsImEiOiJjbDU0MG4xdDIwNGw3M2txb3dwMXNsbzlvIn0.RG43TtKxZYSMZHBgEtuVRg";const r=new L.exports.Map({container:"myMap",style:"mapbox://styles/mapbox/streets-v11",center:[l[0].lng,l[0].lat],zoom:15,projection:"globe"});t.mapPerfil=r,r.on("load",()=>{a.value=new L.exports.Marker({color:"#6f0",anchor:"center"}).setLngLat([l[0].lng,l[0].lat]).addTo(r)}),r.on("click",s=>{a.value.setLngLat(s.lngLat),t.newCoordinate=s.lngLat})}),{use:t,saveNewCoordinate:async()=>{const{user:l}=await t.registerDirection(t.newCoordinate);t.myID=l,t.disableMapPerfil=!0},cancelNewCoordinate:()=>{var l,r,s,u;a.value.setLngLat((l=t.myID)==null?void 0:l.direction[0]),t.disableMapPerfil=!0,console.log((r=t.myID)==null?void 0:r.direction[0].lat),t.mapPerfil.flyTo({center:[(s=t.myID)==null?void 0:s.direction[0].lng,(u=t.myID)==null?void 0:u.direction[0].lat],zoom:15})}}}},je={class:"mapMyPerfil"},Ne={class:"btns"},Le={key:0,class:"BtnMap"};function Re(t,a,e,n,l,r){return y(),x("div",je,[i("div",{id:"myMap",class:le(n.use.disableMapPerfil?"mapa":"mapa2")},null,2),i("div",Ne,[n.use.disableMapPerfil?A("",!0):(y(),x("div",Le,[d(S,{label:"cancelar",color:"red",onClick:n.cancelNewCoordinate},null,8,["onClick"]),d(S,{label:"Guardar",color:"positive",onClick:n.saveNewCoordinate},null,8,["onClick"])]))])])}var Be=M(qe,[["render",Re],["__scopeId","data-v-b79301a8"]]);function ze(t,a){const e=C(null),n=c(()=>t.disable!==!0?null:m("span",{ref:e,class:"no-outline",tabindex:-1}));function l(r){const s=a.value;r!==void 0&&r.type.indexOf("key")===0?s!==null&&document.activeElement!==s&&s.contains(document.activeElement)===!0&&s.focus():e.value!==null&&(r===void 0||s!==null&&s.contains(r.target)===!0)&&e.value.focus()}return{refocusTargetEl:n,refocusTarget:l}}var Te={xs:30,sm:35,md:40,lg:50,xl:60};const Ae={...me,...ce,...ge,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:t=>t==="tf"||t==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},Ee=["update:modelValue"];function Oe(t,a){const{props:e,slots:n,emit:l,proxy:r}=de(),{$q:s}=r,u=_e(e,s),v=C(null),{refocusTargetEl:p,refocusTarget:k}=ze(e,v),$=se(e,Te),h=c(()=>e.val!==void 0&&Array.isArray(e.modelValue)),P=c(()=>{const o=g(e.val);return h.value===!0?e.modelValue.findIndex(_=>g(_)===o):-1}),f=c(()=>h.value===!0?P.value>-1:g(e.modelValue)===g(e.trueValue)),I=c(()=>h.value===!0?P.value===-1:g(e.modelValue)===g(e.falseValue)),j=c(()=>f.value===!1&&I.value===!1),F=c(()=>e.disable===!0?-1:e.tabindex||0),U=c(()=>`q-${t} cursor-pointer no-outline row inline no-wrap items-center`+(e.disable===!0?" disabled":"")+(u.value===!0?` q-${t}--dark`:"")+(e.dense===!0?` q-${t}--dense`:"")+(e.leftLabel===!0?" reverse":"")),G=c(()=>{const o=f.value===!0?"truthy":I.value===!0?"falsy":"indet",_=e.color!==void 0&&(e.keepColor===!0||(t==="toggle"?f.value===!0:I.value!==!0))?` text-${e.color}`:"";return`q-${t}__inner relative-position non-selectable q-${t}__inner--${o}${_}`}),Q=c(()=>{const o={type:"checkbox"};return e.name!==void 0&&Object.assign(o,{"^checked":f.value===!0?"checked":void 0,name:e.name,value:h.value===!0?e.val:e.trueValue}),o}),J=be(Q),K=c(()=>{const o={tabindex:F.value,role:"checkbox","aria-label":e.label,"aria-checked":j.value===!0?"mixed":f.value===!0?"true":"false"};return e.disable===!0&&(o["aria-disabled"]="true"),o});function V(o){o!==void 0&&(R(o),k(o)),e.disable!==!0&&l("update:modelValue",X(),o)}function X(){if(h.value===!0){if(f.value===!0){const o=e.modelValue.slice();return o.splice(P.value,1),o}return e.modelValue.concat([e.val])}if(f.value===!0){if(e.toggleOrder!=="ft"||e.toggleIndeterminate===!1)return e.falseValue}else if(I.value===!0){if(e.toggleOrder==="ft"||e.toggleIndeterminate===!1)return e.trueValue}else return e.toggleOrder!=="ft"?e.trueValue:e.falseValue;return e.indeterminateValue}function Y(o){(o.keyCode===13||o.keyCode===32)&&R(o)}function Z(o){(o.keyCode===13||o.keyCode===32)&&V(o)}const H=a(f,j);return Object.assign(r,{toggle:V}),()=>{const o=H();e.disable!==!0&&J(o,"unshift",` q-${t}__native absolute q-ma-none q-pa-none`);const _=[m("div",{class:G.value,style:$.value},o)];p.value!==null&&_.push(p.value);const N=e.label!==void 0?ie(n.default,[e.label]):re(n.default);return N!==void 0&&_.push(m("div",{class:`q-${t}__label q-anchor--skip`},N)),m("div",{ref:v,class:U.value,...K.value,onClick:V,onKeydown:Y,onKeyup:Z},_)}}var Fe=ue({name:"QToggle",props:{...Ae,icon:String,iconColor:String},emits:Ee,setup(t){function a(e,n){const l=c(()=>(e.value===!0?t.checkedIcon:n.value===!0?t.indeterminateIcon:t.uncheckedIcon)||t.icon),r=c(()=>e.value===!0?t.iconColor:null);return()=>[m("div",{class:"q-toggle__track"}),m("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},l.value!==void 0?[m(fe,{name:l.value,color:r.value})]:void 0)]}return Oe("toggle",a)}});const Ue={setup(){const t=C(null),a=w(),e=ve(t,async l=>{await a.changePublic(l)});return q(async()=>{await a.myUser(),t.value=a.myID.public}),{isPublic:t,use:a,handlerClick:e,editMap:()=>{a.disableMapPerfil=!1}}}},O=t=>(z("data-v-fc5ecab0"),t=t(),T(),t),Ge={class:"perfilConfig"},Qe={class:"bodyPerfilConfig"},Je=O(()=>i("h4",null,"Configurar perfil",-1)),Ke={class:"btnController"},Xe={class:"contentPublic"},Ye=O(()=>i("h6",null,"Publico",-1)),Ze={class:"contentDirection"};function He(t,a,e,n,l,r){return y(),x("div",Ge,[i("div",Qe,[Je,i("div",Ke,[i("div",Xe,[Ye,d(Fe,{modelValue:n.isPublic,"onUpdate:modelValue":a[0]||(a[0]=s=>n.isPublic=s),"checked-icon":"check","onUpdated:modelValue":a[1]||(a[1]=s=>n.handlerClick(n.isPublic)),color:"green","unchecked-icon":"clear"},null,8,["modelValue"])]),i("div",Ze,[d(S,{label:"Editar direccion",onClick:a[2]||(a[2]=s=>n.editMap()),style:{width:"100%"},color:"blue"})])])])])}var We=M(Ue,[["render",He],["__scopeId","data-v-fc5ecab0"]]);const et={components:{Layout:W,RequestFriends:ee,ModalsResquet:te,MyInfo:De,MapMyPerfil:Be,PerfilConfig:We},setup(){return{use:w()}}},tt={class:"perfil"},ot={key:0,class:"modalItem"},at={class:"bodyPerfil"},nt={class:"contentMyInfo"},lt={class:"bodyMap"},st={class:"contentInfo"},it={class:"contentMap"};function rt(t,a,e,n,l,r){const s=b("ModalsResquet"),u=b("RequestFriends"),v=b("MyInfo"),p=b("PerfilConfig"),k=b("MapMyPerfil"),$=b("Layout");return y(),pe($,null,{content:B(()=>[i("div",tt,[n.use.modal?(y(),x("div",ot,[d(s)])):A("",!0),i("div",at,[i("div",nt,[d(u)]),i("div",lt,[i("div",st,[d(v),d(p)]),i("div",it,[d(k)])])])])]),_:1})}var vt=M(et,[["render",rt],["__scopeId","data-v-44fe33de"]]);export{vt as default};
