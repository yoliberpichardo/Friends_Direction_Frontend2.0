import{c as x,u as b,a as y,b as k,h as w,d as C,_ as L,r as c,e as u,f as V,w as n,o as d,g as t,i as p,j as m,Q as h,k as s,l as Q}from"./index.841e3069.js";import{Q as B,g as A,a as f,b as _}from"./dataBase.35130c4d.js";import{u as N}from"./store.f6e6116f.js";var R=x({name:"QCardActions",props:{...b,vertical:Boolean},setup(a,{slots:i}){const o=y(a),e=k(()=>`q-card__actions ${o.value} q-card__actions--${a.vertical===!0?"vert column":"horiz row"}`);return()=>w("div",{class:e.value},C(i.default))}});const S={name:"Login",setup(a){const i=N(),o=c(""),e=c(""),l=c(!1);return{result_email:o,result_password:e,sendData:async()=>{if(!o.value||!e.value)alert("Por favor introduzca su credenciales bien");else{l.value=!0;const g=await A.post("/login",{email:o.value,password:e.value});return localStorage.setItem("token",g.data.token),i.token=g.data.token,l.value=!1,u.push("/")}},redirectRegister:()=>u.push("/register"),initLogin:l,router:u}}},z=s("div",{class:"descriptionLogin"},[s("h1",null,"Log In"),s("p",null,"Login here using your email and password")],-1),D={key:0,class:"animationContent"},I=s("div",{class:"lds-ellipsis"},[s("div"),s("div"),s("div"),s("div")],-1),P=Q("Register"),j={key:0},q={key:1};function E(a,i,o,e,l,v){return d(),V(B,{class:"bodyLogin"},{default:n(()=>[z,t(f,{class:"bodyForm"},{default:n(()=>[t(f,{class:"inputContent"},{default:n(()=>[e.initLogin?(d(),p("div",D,[t(R,null,{default:n(()=>[I]),_:1})])):m("",!0),t(_,{style:{margin:"10px 0"},"bg-color":"white",outlined:"",label:"Email",modelValue:e.result_email,"onUpdate:modelValue":i[0]||(i[0]=r=>e.result_email=r)},null,8,["modelValue"]),t(_,{style:{margin:"10px 0"},type:"password","bg-color":"white",outlined:"",label:"Password",modelValue:e.result_password,"onUpdate:modelValue":i[1]||(i[1]=r=>e.result_password=r)},null,8,["modelValue"])]),_:1}),t(f,{class:"buttonContent"},{default:n(()=>[t(h,{onClick:e.redirectRegister},{default:n(()=>[P]),_:1},8,["onClick"]),t(h,{onClick:e.sendData},{default:n(()=>[e.initLogin?m("",!0):(d(),p("span",j,"Login")),e.initLogin?(d(),p("span",q,"Loading...")):m("",!0)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})}var T=L(S,[["render",E]]);export{T as default};
