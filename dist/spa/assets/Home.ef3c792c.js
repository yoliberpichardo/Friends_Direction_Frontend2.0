import{u as w,m as D,a as $}from"./store.a0f8a243.js";import{Q as V,a as R,b as S}from"./dataBase.2f68e7d6.js";import{_ as I,r as b,F as k,o as i,f as x,w as g,i as l,k as n,P as f,g as u,I as j,Q as L,j as h,m as A,R as v,S as F,U as C,V as B,l as N,W as Q,X as q}from"./index.bc3b0133.js";import{R as z,L as U,M as T}from"./ModalsResquet.33702092.js";const G={props:["data"],setup(o){const s=b(""),t=w(),e=b(null);return k(async()=>{var r;s.value=o.data,await t.myUser(),e.value=await((r=t.myID)==null?void 0:r.direction[0])}),{use:t,user:s,clickInfoFriend:async r=>{var c;t.viewInfoFriend=r;const a=r.direction[0],d=[[e.value.lng,e.value.lat],[a.lng,a.lat]];await t.directionInit(e.value,r.direction[0]),t.addSourceData(t.coodinatesSource.routes[0].geometry.coordinates),(c=t.mapHome)!=null&&c.getLayer("route")&&(t.mapHome.removeLayer("route"),t.mapHome.removeSource("route")),t.newMarker.setLngLat([a.lng,a.lat]).addTo(t.mapHome),t.mapHome.fitBounds(d,{padding:40}),t.mapHome.addSource("route",t.sourceData),t.mapHome.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#888","line-width":3}})}}}},P={key:0,class:"descriptContent"},E={class:"nameContent"},X={class:"btnContent"};function J(o,s,t,e,y,r){return i(),x(R,{class:"resultFriends"},{default:g(()=>[e.user?(i(),x(V,{key:0,class:"bodyResult"},{default:g(()=>{var a,d;return[e.use.myID.uid!==e.user.uid?(i(),l("div",P,[n("div",E,[n("h3",null,f(e.user.name),1),n("p",null,f((a=e.user.direction[0])==null?void 0:a.lng)+" __ "+f((d=e.user.direction[0])==null?void 0:d.lat),1)]),n("div",X,[u(L,{style:{width:"4rem",height:"2.5rem"},onClick:s[0]||(s[0]=c=>e.clickInfoFriend(e.user))},{default:g(()=>[u(j,{name:"share_location",size:"2.2rem"})]),_:1})])])):h("",!0)]}),_:1})):h("",!0)]),_:1})}var Y=I(G,[["render",J]]);const Z={setup(){const o=w(),s=b(""),t=b(o.myID);return A(s,async()=>{await o.getAllAvailableUsers(s.value)}),{use:o,search:s,ViewMyID:t}},components:{CardFriends:Y}},K={class:"inputContent"},O={class:"homeFriends"},W={key:0,class:"titleContent"},ee=n("h4",null,"Amigos",-1),te={key:1,class:"titleContent"},ne=n("h4",null,"Publico",-1);function oe(o,s,t,e,y,r){var d,c,m,p;const a=v("CardFriends");return i(),l(F,null,[n("div",K,[u(S,{outlined:"",label:"Search Friends",modelValue:e.search,"onUpdate:modelValue":s[0]||(s[0]=_=>e.search=_)},null,8,["modelValue"])]),n("div",O,[(c=(d=e.use.usersAvaible)==null?void 0:d.dataFriends)!=null&&c.length?(i(),l("div",W,[ee,(i(!0),l(F,null,C(e.use.usersAvaible.dataFriends,_=>(i(),x(a,{key:_.uid,data:_},null,8,["data"]))),128))])):h("",!0),(p=(m=e.use.usersAvaible)==null?void 0:m.dataPublic)!=null&&p.length?(i(),l("div",te,[ne,(i(!0),l(F,null,C(e.use.usersAvaible.dataPublic,_=>(i(),x(a,{key:_.uid,data:_},null,8,["data"]))),128))])):h("",!0)])],64)}var M=I(Z,[["render",oe]]);const se={setup(){const o=w();k(async()=>{var e;await o.myUser();const{lng:s,lat:t}=await((e=o.myID)==null?void 0:e.direction[0]);D.accessToken="pk.eyJ1Ijoib3NjYXIxMjAwMiIsImEiOiJjbDU0MG4xdDIwNGw3M2txb3dwMXNsbzlvIn0.RG43TtKxZYSMZHBgEtuVRg",o.mapHome=new $.exports.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:s?[s,t]:[0,0],zoom:15,projection:"globe"}),o.mapHome.on("load",()=>{new $.exports.Marker({color:"#6f0",anchor:"center"}).setLngLat([s,t]).addTo(o.mapHome)})})}},ae={id:"map"};function ie(o,s,t,e,y,r){return i(),l("div",ae)}var de=I(se,[["render",ie]]),re="/assets/luffy.c9c4f7e2.jpg";const ce={setup(){return{use:w()}}},H=o=>(Q("data-v-4f719120"),o=o(),q(),o),le={class:"FriendInfo"},_e={class:"bodyFriendInfo"},ue={class:"contentAvatar"},me=H(()=>n("img",{src:re,alt:""},null,-1)),pe={class:"FriendInfoDescription"},ve={class:"friendName"},fe={class:"friendDirection"},he=H(()=>n("b",null,"Direccion : ",-1));function ye(o,s,t,e,y,r){var a,d,c,m,p;return i(),l("div",le,[n("div",_e,[n("div",ue,[u(B,{size:"5.8rem"},{default:g(()=>[me]),_:1})]),n("div",pe,[n("div",ve,[n("h3",null,f((a=e.use.viewInfoFriend)==null?void 0:a.name),1)]),n("div",fe,[n("p",null,[he,N(f((c=(d=e.use.viewInfoFriend)==null?void 0:d.direction[0])==null?void 0:c.lng)+" - "+f((p=(m=e.use.viewInfoFriend)==null?void 0:m.direction[0])==null?void 0:p.lat),1)])])])])])}var ge=I(ce,[["render",ye],["__scopeId","data-v-4f719120"]]);const xe={name:"Home",components:{FriendsView:M,MapBody:de,RequestFriends:z,Layout:U,FriendsView:M,ModalsResquet:T,FriendInfo:ge},setup(){return{use:w()}}},we={class:"home"},Ie={key:0,class:"modalItem"},be={key:1,class:"modalItem"},Fe={class:"bodyHome"},$e={class:"contentFriends"},Ce={class:"bodyMap"},Me={class:"contentInfo"},ke={class:"contentMap"};function He(o,s,t,e,y,r){const a=v("ModalsResquet"),d=v("RequestFriends"),c=v("FriendsView"),m=v("FriendInfo"),p=v("MapBody"),_=v("Layout");return i(),x(_,null,{content:g(()=>[n("div",we,[e.use.modal?(i(),l("div",Ie,[u(a)])):h("",!0),e.use.modalRequest?(i(),l("div",be,[u(d)])):h("",!0),n("div",Fe,[n("div",$e,[u(c)]),n("div",Ce,[n("div",Me,[u(m)]),n("div",ke,[u(p)])])])])]),_:1})}var je=I(xe,[["render",He],["__scopeId","data-v-4ce00284"]]);export{je as default};
